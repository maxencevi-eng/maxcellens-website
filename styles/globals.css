/* Playfair Display chargée via layout (next/font ou link async) pour éviter le blocage du rendu */

/* Global base styles (no Tailwind) */
:root {
  --base-line-height: 1.25;
  --bg: #dfe4dd; /* RVB(223,228,221) */
  /** Couleur de fond des blocs (zone contenu) — réglable dans Style du site */
  --block-bg: var(--bg);
  --fg: #213431; /* texte sombre vert/gris */
  --muted: #6b7280;
  /* Navigation customization variables (defaults reflect current styles) */
  --nav-height: 64px;
  --nav-gap: 0.6rem;
  --nav-font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --nav-font-size: 0.78rem;
  --nav-font-weight: 600;
  --nav-text-color: var(--fg);
  --nav-hover-text-color: var(--fg);
  --nav-bg-color: var(--bg);
  /* Active state color (applied to active menu button) */
  --nav-active-text-color: var(--color-primary);
  /* Mobile active color is independent; default to normal nav text unless explicitly set */
  --nav-mobile-active-text-color: var(--nav-text-color);
}

html, body, #__next {
  height: 100%;
  margin: 0;
  overflow-x: hidden;
  background: var(--bg);
  color: var(--fg);
  line-height: var(--base-line-height);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Empêcher l'enregistrement / glisser-déposer des images (protection des photos du site) */
img {
  -webkit-user-drag: none;
  user-drag: none;
  pointer-events: auto;
}

/* Largeur du corps de page : réglable dans Page > Dimensions & mise en page */
.container {
  margin-left: auto;
  margin-right: auto;
  width: 100%;
  max-width: var(--container-max-width-desktop, 1120px);
  padding-left: var(--container-margin-x-mobile, 1rem);
  padding-right: var(--container-margin-x-mobile, 1rem);
  box-sizing: border-box;
}

@media (min-width: 640px) {
  .container {
    padding-left: var(--container-margin-x-desktop, 1.5rem);
    padding-right: var(--container-margin-x-desktop, 1.5rem);
  }
}

@media (min-width: 1024px) {
  .container {
    padding-left: var(--container-margin-x-desktop, 2rem);
    padding-right: var(--container-margin-x-desktop, 2rem);
  }
}

@media (max-width: 767px) {
  .container {
    max-width: var(--container-max-width-mobile, 100%);
  }
}

/* Largeur de bloc : 100% (défaut) ou max 1600px — réglable par bloc via le bouton double flèche. En 2e dimension le bloc est toujours centré. */
.container.block-width-1600 {
  max-width: 1600px;
  margin-left: auto;
  margin-right: auto;
}
/* !important pour primer sur .blockFullWidthBg (100vw) et garantir le centrage */
.block-width-1600 {
  max-width: 1600px !important;
  width: 100% !important;
  margin-left: auto !important;
  margin-right: auto !important;
  box-sizing: border-box;
}

/* Zone contenu : largeur + hauteur min. + fond (Page > Dimensions, Style > Couleurs).
   La marge intérieure des blocs ne s'applique pas ici pour ne pas impacter les marges autour du header. */
.content-inner {
  max-width: min(var(--content-inner-max-width-desktop, 2000px), 100%);
  min-height: var(--content-inner-min-height-desktop, 0);
  margin-left: auto;
  margin-right: auto;
  width: 100%;
  padding: 0;
  background: var(--block-bg);
  box-sizing: border-box;
}

@media (max-width: 767px) {
  .content-inner {
    max-width: min(var(--content-inner-max-width-mobile, 1200px), 100%);
    min-height: var(--content-inner-min-height-mobile, 0);
  }
}

/* Masonry item styling for column layout */
.masonry-item {
  break-inside: avoid;
  margin-bottom: 1rem;
}

/* Admin sidebar layout when connected */
:root {
  --admin-sidebar-width: 0px;
}

body.has-admin-sidebar {
  --admin-sidebar-width: 360px; /* largeur de la sidebar (superposée, ne pousse pas le contenu) */
}

/* la sidebar est en position:fixed, elle se superpose au contenu ; pas de margin-left sur le contenu */

/* sidebar base styles */
#admin-sidebar {
  position: fixed;
  left: 0;
  top: 96px; 
  bottom: 0;
  width: var(--admin-sidebar-width);
  max-width: 380px;
  background: rgba(8, 16, 24, 0.82); /* 80% opacity dark background */
  backdrop-filter: blur(20px); /* Glassmorphism blur */
  border-right: 1px solid rgba(255, 255, 255, 0.08); /* Subtle border */
  color: #fff;
  box-shadow: 12px 0 40px rgba(0,0,0,0.3);
  padding: 80px 24px 24px 24px; /* increased top padding for title/close btn space */
  display: flex;
  flex-direction: column;
  z-index: 9999;
  box-sizing: border-box;
  overflow-x: hidden;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

#admin-sidebar .admin-title {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 14px;
  letter-spacing: 0.03em;
}

#admin-sidebar nav {
  flex: 1 1 auto;
  overflow: auto;
}

#admin-sidebar ul {
  list-style: none;
  padding: 0 6px 0 0; /* small right padding to avoid touching edge */
  margin: 0;
}

/* submenu area inside sidebar (horizontal) */
.submenu {
  margin-top: 6px;
  padding: 6px 6px;
  border-radius: 8px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));
  font-size: 0.94rem;
}
.submenu-row {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* make file input and preview fit and more compact */
.submenu input[type="file"] { color: #fff; font-size: 0.9rem; }
.submenu img { display: block; max-height: 48px; width: auto; border-radius: 6px; }

/* submenu list item placed between menu items */
.submenu-li {
  list-style: none;
  padding: 6px 6px 8px 6px;
}

/* make submenu visually separated and full width */
.submenu-li .submenu {
  box-shadow: 0 6px 14px rgba(2,6,23,0.14);
  border-radius: 8px;
  padding: 8px;
}

/* Scoped admin sidebar submenu overrides - use site background and
   align submenu buttons with main menu buttons for consistency */
#admin-sidebar .submenu {
  background: rgba(0, 0, 0, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.05);
  color: #eff6ff; /* Light text */
  padding: 16px;
  border-radius: 12px;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.2); 
  margin-bottom: 8px;
}

#admin-sidebar .submenu-row {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

#admin-sidebar .submenu input[type="file"] { color: #eff6ff; font-size: 0.88rem; opacity: 0.9; }
#admin-sidebar .submenu input[type="range"] { accent-color: var(--color-primary, #3b82f6); cursor: pointer; }
#admin-sidebar .submenu .menu-item {
    font-size: 0.9rem;
    padding: 8px 12px;
    background: rgba(255,255,255,0.05); /* Slight fill for submenu actions */
}
#admin-sidebar .submenu img { display: block; max-height: 56px; width: auto; border-radius: 6px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }

/* Make submenu buttons match main menu buttons */
#admin-sidebar .submenu .menu-item,
#admin-sidebar .submenu button.menu-item {
  /* Match main menu buttons' look */
  background: linear-gradient(180deg, rgba(2,8,12,0.36), rgba(4,10,14,0.44));
  box-shadow: 0 8px 22px rgba(0,0,0,0.25), inset 0 -1px 0 rgba(255,255,255,0.02);
  color: #fff;
  padding: 10px 12px;
  border-radius: 8px;
  border: none;
  font-size: 14px;
  white-space: normal; /* allow wrapping */
  width: 100%;
}

/* Ensure import buttons beside preview fit the text and don't overflow */
#admin-sidebar .submenu .upload-controls .menu-item {
  max-width: none;
  width: auto;
  font-size: 13px;
  padding: 8px 12px;
}

#admin-sidebar .submenu .upload-preview img { display:block; max-width:140px; max-height:80px; }

#admin-sidebar .submenu .btn-primary { background: var(--color-primary); color: #fff; }

/* Compact upload layout: preview + controls side-by-side */
#admin-sidebar .submenu .upload-row { display:flex; gap:12px; align-items:center; }
#admin-sidebar .submenu .upload-preview { flex:0 0 auto; }
#admin-sidebar .submenu .upload-controls { flex:1 1 auto; display:flex; gap:8px; align-items:center; }
#admin-sidebar .submenu .upload-controls input[type="file"] { flex:0 0 auto; }
#admin-sidebar .submenu .upload-controls .menu-item { flex:0 0 auto; }
@media (max-width:640px) {
  #admin-sidebar .submenu .upload-row { flex-direction:column; align-items:stretch; }
}

/* Ensure the submenu block does not leak styles to global .submenu usage elsewhere */
@media (min-width: 0px) {
  /* no-op block to keep specificity contained; actual rules are above */
}

/* TipTap editor content styling: normalize spacing so list items match paragraph spacing */
.tiptap-editor p,
.richtext-content p {
  margin: 0 0 0.4rem !important; /* tighter to match modal */
  line-height: var(--base-line-height) !important;
}
.tiptap-editor ul,
.tiptap-editor ol,
.richtext-content ul,
.richtext-content ol {
  margin: 0; /* remove extra gap around lists */
  padding-left: 1.25rem; /* keep bullets/numbers indented */
}
.tiptap-editor li,
.richtext-content li {
  margin: 0 !important; /* remove extra gap between list items */
  padding-bottom: 0 !important; /* remove padding so items are tight */
  line-height: var(--base-line-height) !important; /* ensure same line-height as paragraphs */
}
.tiptap-editor li p,
.richtext-content li p {
  margin: 0; /* avoid nested paragraph margins inside list items */
}
/* ensure <br> shows as line break like in the editor (visible line break on site) */
.tiptap-editor br,
.richtext-content br {
  display: block;
  content: "";
  margin: 0;
  padding: 0;
  line-height: var(--base-line-height, 1.25);
  min-height: 1em;
}


#admin-sidebar li {
  margin: 6px 0;
}

#admin-sidebar button.menu-item {
  width: 100%;
  text-align: left;
  background: transparent;
  color: rgba(255, 255, 255, 0.85); /* Slightly muted white for elegance */
  border: 1px solid transparent;
  padding: 12px 16px;
  border-radius: 12px; /* Softer rounding */
  cursor: pointer;
  font-size: 0.95rem;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 12px;
  box-sizing: border-box;
  transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  margin-bottom: 2px;
}

/* Hover state: Modern Glass highlight */
#admin-sidebar button.menu-item:hover {
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  transform: translateX(4px);
  border-color: rgba(255,255,255,0.05);
}

/* Active/Focus state */
#admin-sidebar button.menu-item:active {
  transform: scale(0.98) translateX(4px);
  background: rgba(255, 255, 255, 0.12);
}

/* Remove old pseudo-elements (dots) */
#admin-sidebar button.menu-item::before {
  display: none !important;
}

/* Remove the leading dot/pulse for buttons inside submenu panels */
#admin-sidebar .submenu button.menu-item::before,
#admin-sidebar .submenu .menu-item::before {
  display: none;
  content: none;
}

/* Removed overlapping hover/active states */

#admin-sidebar .signout {
  margin-top: auto;
  padding-top: 20px;
  border-top: 1px solid rgba(255,255,255,0.08);
}

#admin-sidebar button.signout-btn {
  width: 100%;
  padding: 12px;
  border: 1px solid rgba(220, 38, 38, 0.4);
  background: rgba(220, 38, 38, 0.1);
  color: #fca5a5;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: none;
  font-weight: 600;
  transition: all 0.2s ease;
}

#admin-sidebar button.signout-btn:hover {
  background: rgba(220, 38, 38, 0.9);
  color: #fff;
  border-color: transparent;
  box-shadow: 0 4px 16px rgba(220,38,38,0.4);
}

/* smooth transitions */
#admin-sidebar, #admin-sidebar button.menu-item, #admin-sidebar button.signout-btn { transition: all 180ms ease; }

/* sidebar en overlay : pas de décalage du contenu */

/* toggle button shown when sidebar is hidden */
.admin-toggle-btn {
  position: fixed;
  left: 40px; /* align with header content gutter */
  top: 122px;  /* align with sidebar content (100px + 22px padding) */
  transform: none;
  z-index: 9999;
  width: 44px;
  height: 60px; /* augmenté de 44px à 60px */
  border-radius: 8px;
  background: rgba(8, 16, 24, 0.82);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  color: #fff;
  font-size: 18px; /* augmenté pour une meilleure visibilité */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Global button primitives used in admin modals */
.btn-primary {
  padding: 10px 14px;
  border-radius: 8px;
  background: linear-gradient(180deg,#0b5cff 0%, #0047d1 100%);
  color: #fff;
  border: none;
  box-shadow: 0 8px 20px rgba(11,92,255,0.14);
  cursor: pointer;
}

.btn-secondary {
  padding: 10px 14px;
  border-radius: 8px;
  background: #fff;
  color: #111;
  border: 1px solid rgba(0,0,0,0.06);
  cursor: pointer;
}

.btn-ghost {
  padding: 6px 10px;
  border-radius: 6px;
  background: transparent;
  color: #111;
  border: 1px solid rgba(0,0,0,0.06);
  cursor: pointer;
}

@media (max-width: 900px) {
  /* on small screens header is taller; place toggle below header area */
  .admin-toggle-btn { left: 16px; top: 100px; }
}

/* Quill inside modal: ensure toolbar and editor are visible and accessible */
.modal .ql-toolbar { z-index: 60; background: var(--surface); border-radius: 6px; box-shadow: 0 6px 14px rgba(0,0,0,0.06); }
.modal .ql-container { background: var(--surface); border: 1px solid var(--border); margin-top: 8px; }
.modal .ql-editor { min-height: 220px; color: var(--color-text); padding: 12px; }
.modal .ql-editor p { margin: 0 0 8px; }

/* ensure site logo size is driven by CSS variable */
:root {
  --site-logo-height: 36px;

  /* Site style variables (defaults) */
  --bg-color: #ffffff;
  --surface: #ffffff; /* card/modal background */
  --border: #e6e6e6; /* thin borders */
  --color-primary: #0070f3;
  --color-secondary: #111111;
  --color-accent: #ff4081;
  --color-text: #111111;
  --base-line-height: 1.25; 

  /* Typography defaults (can be overridden by Site Style editor) */
  --font-h1-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --font-h1-size: 28px;
  --font-h1-weight: 700;

  --font-h2-family: var(--font-h1-family);
  --font-h2-size: 22px;
  --font-h2-weight: 600;

  --font-h3-family: var(--font-h1-family);
  --font-h3-size: 18px;
  --font-h3-weight: 600;

  --font-h4-family: var(--font-h1-family);
  --font-h4-size: 16px;
  --font-h4-weight: 600;

  --font-h5-family: var(--font-h1-family);
  --font-h5-size: 14px;
  --font-h5-weight: 600;

  --font-body-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --font-body-size: 16px;
  --font-body-weight: 400;

  /* Boutons (Style du site) — peuvent être surchargés dans Modifier le style > Couleurs > Boutons */
  --button-1-bg: var(--fg, #213431);
  --button-1-color: #fff;
  --button-2-bg: #fff;
  --button-2-color: var(--fg, #213431);
}

/* Classes pour appliquer le style de bouton choisi dans les modaux (CTA, etc.) */
.btn-site-1 {
  background: var(--button-1-bg) !important;
  color: var(--button-1-color) !important;
  border: none;
}
.btn-site-2 {
  background: var(--button-2-bg) !important;
  color: var(--button-2-color) !important;
  border: 1px solid rgba(0,0,0,0.1);
}

/* Styles de titre éditables (choix dans modaux : Paragraphe, Titre 1… — définis dans Style du site) */
.style-p { font-family: var(--font-body-family); font-size: var(--font-body-size); font-weight: var(--font-body-weight); margin: 0 0 0.5rem; }
.style-h1 { font-family: var(--font-h1-family); font-size: var(--font-h1-size); font-weight: var(--font-h1-weight); margin: 0 0 0.5rem; }
.style-h2 { font-family: var(--font-h2-family); font-size: var(--font-h2-size); font-weight: var(--font-h2-weight); margin: 0 0 0.5rem; }
.style-h3 { font-family: var(--font-h3-family); font-size: var(--font-h3-size); font-weight: var(--font-h3-weight); margin: 0 0 0.5rem; }
.style-h4 { font-family: var(--font-h4-family); font-size: var(--font-h4-size); font-weight: var(--font-h4-weight); margin: 0 0 0.5rem; }
.style-h5 { font-family: var(--font-h5-family); font-size: var(--font-h5-size); font-weight: var(--font-h5-weight); margin: 0 0 0.5rem; }

/* Liens : couleurs configurables dans Style du site > Couleurs (sinon primary / accent) */
a { color: var(--color-link, var(--color-primary)); }
a:hover, a:focus { color: var(--color-link-hover, var(--color-accent)); }
a:active { color: var(--color-link-active, var(--color-link-hover, var(--color-accent))); }

/* menu items should highlight using primary color on hover */
.menu-item:hover, .menu-item:focus { color: var(--color-primary); }

/* TipTap editor content should match site typography by default */
.tiptap-editor {
  min-height: 160px;
  padding: 12px;
  font-family: var(--font-body-family);
  color: var(--color-text);
  /* match site rendering: use site's base line-height */
  line-height: var(--base-line-height);
  font-size: var(--font-body-size);
  background-color: var(--bg-color);
}

/* Support content areas rendered outside the editor (e.g. public pages) */
.richtext-content {
  font-family: var(--font-body-family);
  color: var(--color-text);
  line-height: var(--base-line-height);
  font-size: var(--font-body-size);
}

.richtext-content h1, .richtext-content h2, .richtext-content h3, .richtext-content h4, .richtext-content h5 {
  margin: 0;
}
.richtext-content h1 { font-family: var(--font-h1-family) !important; font-size: var(--font-h1-size) !important; font-weight: var(--font-h1-weight) !important; }
.richtext-content h2 { font-family: var(--font-h2-family) !important; font-size: var(--font-h2-size) !important; font-weight: var(--font-h2-weight) !important; }
.richtext-content h3 { font-family: var(--font-h3-family) !important; font-size: var(--font-h3-size) !important; font-weight: var(--font-h3-weight) !important; }
.richtext-content h4 { font-family: var(--font-h4-family) !important; font-size: var(--font-h4-size) !important; font-weight: var(--font-h4-weight) !important; }
.richtext-content h5 { font-family: var(--font-h5-family) !important; font-size: var(--font-h5-size) !important; font-weight: var(--font-h5-weight) !important; }
.tiptap-editor h1 {
  font-family: var(--font-h1-family) !important;
  font-size: var(--font-h1-size) !important;
  font-weight: var(--font-h1-weight) !important;
  margin: 0;
}
.tiptap-editor h2 {
  font-family: var(--font-h2-family) !important;
  font-size: var(--font-h2-size) !important;
  font-weight: var(--font-h2-weight) !important;
  margin: 0;
}
.tiptap-editor h3 {
  font-family: var(--font-h3-family) !important;
  font-size: var(--font-h3-size) !important;
  font-weight: var(--font-h3-weight) !important;
  margin: 0;
}
.tiptap-editor h4 {
  font-family: var(--font-h4-family) !important;
  font-size: var(--font-h4-size) !important;
  font-weight: var(--font-h4-weight) !important;
  margin: 0;
}
.tiptap-editor h5 {
  font-family: var(--font-h5-family) !important;
  font-size: var(--font-h5-size) !important;
  font-weight: var(--font-h5-weight) !important;
  margin: 0;
}
.tiptap-editor h2 {
  font-family: var(--font-h2-family);
  font-size: var(--font-h2-size);
  font-weight: var(--font-h2-weight);
  margin: 0;
}
.tiptap-editor h3 {
  font-family: var(--font-h3-family);
  font-size: var(--font-h3-size);
  font-weight: var(--font-h3-weight);
  margin: 0;
}
.tiptap-editor p { margin: 0; }
.tiptap-editor ul, .tiptap-editor ol { margin: 0 0 0 18px; }
.tiptap-editor img { max-width: 100%; height: auto; }

/* Lexical editor content area (remplace TipTap dans le modal) */
.lexical-content-editable {
  min-height: 160px;
  padding: 12px;
  font-family: var(--font-body-family);
  color: var(--color-text);
  line-height: var(--base-line-height);
  font-size: var(--font-body-size);
  background-color: var(--bg-color);
}
.lexical-content-editable .lexical-p,
.lexical-content-editable p { margin: 0 0 0.4rem; }
.lexical-content-editable .lexical-ul,
.lexical-content-editable .lexical-ol,
.lexical-content-editable ul,
.lexical-content-editable ol { margin: 0 0 0 18px; padding-left: 1.25rem; }
.lexical-content-editable .lexical-li,
.lexical-content-editable li { margin: 0; }
.lexical-content-editable .lexical-link,
.lexical-content-editable a { color: var(--color-primary); text-decoration: underline; }
.lexical-content-editable .lexical-bold,
.lexical-content-editable strong { font-weight: 700; }
.lexical-content-editable .lexical-italic,
.lexical-content-editable em { font-style: italic; }
.lexical-content-editable .lexical-underline { text-decoration: underline; }
/* Titres : typographie du site (Style du site > Typographie) */
.lexical-content-editable .lexical-h1,
.lexical-content-editable h1 { font-family: var(--font-h1-family) !important; font-size: var(--font-h1-size) !important; font-weight: var(--font-h1-weight) !important; margin: 0 0 0.4rem; }
.lexical-content-editable .lexical-h2,
.lexical-content-editable h2 { font-family: var(--font-h2-family) !important; font-size: var(--font-h2-size) !important; font-weight: var(--font-h2-weight) !important; margin: 0 0 0.4rem; }
.lexical-content-editable .lexical-h3,
.lexical-content-editable h3 { font-family: var(--font-h3-family) !important; font-size: var(--font-h3-size) !important; font-weight: var(--font-h3-weight) !important; margin: 0 0 0.4rem; }
.lexical-content-editable .lexical-h4,
.lexical-content-editable h4 { font-family: var(--font-h4-family) !important; font-size: var(--font-h4-size) !important; font-weight: var(--font-h4-weight) !important; margin: 0 0 0.4rem; }
.lexical-content-editable .lexical-h5,
.lexical-content-editable h5 { font-family: var(--font-h5-family) !important; font-size: var(--font-h5-size) !important; font-weight: var(--font-h5-weight) !important; margin: 0 0 0.4rem; }

/* Modal Édition Intro : même rendu que le site (couleur, typo, liens) */
.rich-text-modal-body .lexical-content-editable,
.rich-text-modal-body .richtext-content,
.rich-text-modal-body .tiptap-editor {
  color: var(--color-text) !important;
  background-color: var(--bg-color) !important;
}
.rich-text-modal-body .lexical-content-editable h1,
.rich-text-modal-body .lexical-content-editable h2,
.rich-text-modal-body .lexical-content-editable h3,
.rich-text-modal-body .lexical-content-editable h4,
.rich-text-modal-body .lexical-content-editable h5 {
  color: var(--color-text) !important;
}
.rich-text-modal-body .lexical-content-editable a {
  color: var(--color-primary) !important;
}
.rich-text-modal-body .lexical-content-editable a:hover {
  color: var(--color-link-hover, var(--color-accent)) !important;
}

/* Éditeur RichText en modal — mobile : toolbar qui wrap, zone de contenu lisible */
@media (max-width: 768px) {
  .modal .tiptap-editor,
  .modal .lexical-content-editable,
  [class*="modal"] .tiptap-editor,
  [class*="modal"] .lexical-content-editable {
    min-height: 140px;
    padding: 10px;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
  .modal [class*="tiptap"] > div:first-child,
  .modal .tiptap-editor-wrapper {
    flex-wrap: wrap;
    gap: 8px;
  }
}

/* Footer edit modal preview should match actual footer typography */
.footer-edit-preview {
  font-size: 0.95rem;
  color: var(--muted);
  line-height: var(--base-line-height);
}
.footer-edit-preview p { margin: 0; }

/* Floating "Éléments visibles" panel inside Footer edit modal */
.footer-right-col { position: relative; }

/* Anchor the visible-elements panel inside the right column so it doesn't overlap modal actions */
.footer-right-col .footer-visible-panel {
  position: absolute;
  right: 12px;
  bottom: 12px;
  width: calc(100% - 0px);
  background: transparent;
  box-sizing: border-box;
}
.footer-visible-panel label { font-size: 0.95rem; color: var(--fg); }

@media (max-width: 720px) {
  .footer-right-col .footer-visible-panel {
    position: static;
    width: auto;
    margin-top: 12px;
  }
}

/* When the panel is rendered in-flow (not anchored), constrain width
   so the two columns sit closer together and align with the left column. */
.footer-visible-panel {
  max-width: 460px;
  margin-top: 12px;
}
.footer-visible-panel > div {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

@media (max-width: 880px) {
  .footer-visible-panel { max-width: none; }
  .footer-visible-panel > div { grid-template-columns: 1fr 1fr; gap: 10px; }
}

/* Footer edit modal actions anchored bottom-right */
.footer-edit-modal { box-sizing: border-box; }
.footer-edit-modal { padding-bottom: 76px; }
.footer-modal-actions {
  position: absolute;
  right: 20px;
  bottom: 20px;
  display: flex;
  gap: 8px;
}

@media (max-width: 720px) {
  .footer-edit-modal { padding-bottom: 20px; }
  .footer-modal-actions { position: static; margin-top: 12px; }
}

/* Font loading state: hide key content until fonts are ready to avoid FOUT/visual jumps */
html.wf-loading .nav,
html.wf-loading .header,
html.wf-loading .contentWrap,
html.wf-loading .center,
html.wf-loading .logo,
html.wf-loading .nav .link,
html.wf-loading .hero,
html.wf-loading .imageWrap,
html.wf-loading .gallery,
html.wf-loading .tiptap-editor,
html.wf-loading .richtext-content,
html.wf-loading .containerInner {
  visibility: hidden;
  opacity: 0;
}

/* When fonts are ready, fade content in smoothly */
html.wf-loaded .nav,
html.wf-loaded .hero,
html.wf-loaded .imageWrap,
html.wf-loaded .gallery,
html.wf-loaded .tiptap-editor,
html.wf-loaded .richtext-content,
html.wf-loaded .containerInner {
  visibility: visible;
  opacity: 1;
  transition: opacity 220ms ease-in;
}

/* Social icons + menu: hidden until site-ready (fonts + short delay), then fade in like icons */
html:not(.site-ready) [data-site-social="icons"],
html:not(.site-ready) [data-site-nav="menu"] {
  visibility: hidden !important;
  opacity: 0 !important;
}
/* Also hide nav menu until visibility settings are loaded (data-nav-ready) */
[data-site-nav="menu"]:not([data-nav-ready]) {
  visibility: hidden !important;
  opacity: 0 !important;
}
html.site-ready [data-site-social="icons"],
html.site-ready [data-site-nav="menu"] {
  visibility: visible;
  opacity: 1;
  transition: opacity 0.22s ease;
}

/* If font load fails, show content but mark with a class to allow different fallback styling */
html.wf-failed .nav,
html.wf-failed .hero,
html.wf-failed .imageWrap,
html.wf-failed .gallery,
html.wf-failed .tiptap-editor,
html.wf-failed .richtext-content,
html.wf-failed .containerInner {
  visibility: visible;
  opacity: 1;
}

/* Marge légère des modaux sur mobile + scroll du contenu */
@media (max-width: 768px) {
  .modal-overlay-mobile {
    padding: 12px !important;
    box-sizing: border-box;
    align-items: flex-start;
  }
  .modal-overlay-mobile > div {
    max-width: 100% !important;
    max-height: calc(100vh - 24px) !important;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}
